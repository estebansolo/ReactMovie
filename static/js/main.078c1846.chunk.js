(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(55)},36:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),i=a(7),s=a(12),l="https://api.themoviedb.org/3/",m="d00159c5a83c1383d6fa79bc6f2d11c0",u="http://image.tmdb.org/t/p/",d=a(27),v=a.n(d),h=(a(36),function(e){return r.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n\t\t\t\t39%, rgba(0,0,0,0)\n\t\t\t\t41%, rgba(0,0,0,0.65)\n\t\t\t\t100%),\n\t\t\t\turl('".concat(e.image,"'), #1c1c1c")}},r.a.createElement("div",{className:"rmdb-heroimage-content"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.text))))}),g=a(13),f=a(14),b=a(17),p=a(15),E=a(18),N=a(6),w=a.n(N),k=a(28),j=(a(40),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.timeout=null,a.doSearch=function(e){a.setState({value:e.target.value}),a.doCallback()},a.doCallback=Object(k.debounce)(function(){a.props.callback(!1,a.state.value)},800),a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:""!==this.state.value?this.state.value:this.props.text})}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-searchbar"},r.a.createElement("div",{className:"rmdb-searchbar-content"},r.a.createElement(w.a,{className:"rmdb-fa-search",name:"search",size:"2x"}),r.a.createElement("input",{type:"text",className:"rmdb-searchbar-input",placeholder:"search",onChange:this.doSearch,value:this.state.value})))}}]),t}(n.Component)),y=(a(41),function(e){return r.a.createElement("div",{className:"rmdb-grid"},e.header&&!e.loading?r.a.createElement("h1",null,e.header):null,r.a.createElement("div",{className:"rmdb-grid-content"},e.children.map(function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)})))}),O=a(5),S=(a(42),function(e){var t=e.clickable,a=e.image,n=e.movieId,c=e.movieName;return r.a.createElement("div",{className:"rmdb-moviethumb"},t?r.a.createElement(O.b,{className:"clickable",to:{pathname:"/".concat(n),movieName:"".concat(c)}},r.a.createElement("img",{src:a,alt:"Movie Thumb"})):r.a.createElement("img",{src:a,alt:"Movie Thumb"}))}),x=(a(45),function(){return r.a.createElement("div",{className:"loader"})}),I=a(11),_=a.n(I),T=a(22),M=a(8),R=a(16),A=(a(47),function(){var e=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],u=o[1],d=Object(n.useState)({movies:[],heroImage:null,currentPage:0,totalPages:0,searchTerm:""}),v=Object(s.a)(d,2),h=v[0],g=v[1],f=function(e){return function(t){return function(a){return"".concat(l).concat(e,"?api_key=").concat(m,"&language=en-US&page=").concat(t?h.currentPage+1:1,"&query=").concat(a)}}},b=f("search/movie"),p=f("movie/popular"),E=function(){var e=Object(R.a)(_.a.mark(function e(t){var a;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),r(!0),e.prev=2,e.next=5,fetch(t);case 5:return e.next=7,e.sent.json();case 7:a=e.sent,g(function(e){return Object(M.a)({},e,{movies:[].concat(Object(T.a)(e.movies),Object(T.a)(a.results)),currentPage:a.page,totalPages:a.total_pages})}),g(function(e){return Object(M.a)({},e,{heroImage:e.movies[0]})}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),u(!0);case 15:r(!1);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){if(sessionStorage.getItem("HomeState")){var e=JSON.parse(sessionStorage.getItem("HomeState"));g(Object(M.a)({},e))}else E(p(!1)(""))},[]),Object(n.useEffect)(function(){sessionStorage.setItem("HomeState",JSON.stringify(h))},[h]),[{state:h,isLoading:a,isError:i},function(e,t){e=void 0===e||e,g(function(a){return Object(M.a)({},a,{movies:e?a.movies:[],searchTerm:t})});var a=t?b(e)(t):p(e)("");E(a)}]}(),t=Object(s.a)(e,2),a=t[0],c=a.state,o=a.isLoading,i=(a.isError,t[1]);return r.a.createElement("div",{className:"rmdb-home"},c.heroImage&&!c.searchTerm?r.a.createElement("div",null,r.a.createElement(h,{image:"".concat(u).concat("w1280").concat(c.heroImage.backdrop_path),title:c.heroImage.original_title,text:c.heroImage.overview})):null,r.a.createElement(j,{callback:i,text:c.searchTerm}),r.a.createElement("div",{className:"rmdb-home-grid"},r.a.createElement(v.a,{dataLength:c.movies.length,next:i,hasMore:c.currentPage<c.totalPages,endMessage:!o&&r.a.createElement("div",{className:"rmdb-grid"},r.a.createElement("h1",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all")))},r.a.createElement(y,{header:c.searchTerm?"Search Result":"Popular Movies",loading:o},c.movies.map(function(e,t){return r.a.createElement(S,{key:t,clickable:!0,movieId:e.id,movieName:e.original_title,image:e.poster_path?"".concat(u).concat("w500").concat(e.poster_path):"./images/no_image.jpg"})}))),o?r.a.createElement(x,null):null))}),D=(a(48),function(){return r.a.createElement("div",{className:"rmdb-header"},r.a.createElement("div",{className:"rmdb-header-content"},r.a.createElement(O.b,{to:"/"},r.a.createElement("img",{src:"./images/reactMovie_logo.png",alt:"RMDB Logo",className:"rmdb-logo"})),r.a.createElement("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"./images/tmdb_logo.png",alt:"TMDB Logo",className:"rmdb-tmdb-logo"}))))}),P=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This page does not exists"))},C=(a(49),function(e){return r.a.createElement("div",{className:"rmdb-navigation"},r.a.createElement("div",{className:"rmdb-navigation-content"},r.a.createElement(O.b,{to:"/"},r.a.createElement("p",null,"Home")),r.a.createElement("p",null,"/"),r.a.createElement("p",null,e.movie)))}),L=(a(50),function(e){return r.a.createElement("div",{className:"rmdb-movieinfo",style:{background:e.movie.backdrop_path?"url('".concat(u).concat("w1280").concat(e.movie.backdrop_path,"')"):"#000"}},r.a.createElement("div",{className:"rmdb-movieinfo-content"},r.a.createElement("div",{className:"rmdb-movieinfo-thumb"},r.a.createElement(S,{image:e.movie.poster_path?"".concat(u).concat("w500").concat(e.movie.poster_path):"./images/no_image.jpg",clickable:!1})),r.a.createElement("div",{className:"rmdb-movieinfo-text"},r.a.createElement("h1",null,e.movie.title),r.a.createElement("h3",null,"PLOT"),r.a.createElement("p",null,e.movie.overview),r.a.createElement("h3",null,"IMDB RATING"),r.a.createElement("div",{className:"rmdb-rating"},r.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*e.movie.vote_average}),r.a.createElement("p",{className:"rmdb-score"},e.movie.vote_average)),(e.directors.length,r.a.createElement("h3",null,"DIRECTOR")),e.directors.map(function(e,t){return r.a.createElement("p",{key:t,className:"rmdb-director"},e.name)})),r.a.createElement(w.a,{className:"fa-film",name:"film",size:"5x"})))}),U=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)},W=(a(51),function(e){return r.a.createElement("div",{className:"rmdb-movieinfobar"},r.a.createElement("div",{className:"rmdb-movieinfobar-content"},r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(w.a,{className:"fa-time",name:"clock-o",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Running time: ",function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(e.time))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(w.a,{className:"fa-budget",name:"money",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Budget: ",U(e.budget))),r.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},r.a.createElement(w.a,{className:"fa-revenue",name:"ticket",size:"2x"}),r.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Revenue: ",U(e.revenue)))))}),B=(a(52),function(e){return r.a.createElement("div",{className:"rmdb-actor"},r.a.createElement("img",{alt:"Actor Thumb",src:e.actor.profile_path?"".concat(u).concat("w154").concat(e.actor.profile_path):"./images/no_image.jpg"}),r.a.createElement("span",{className:"rmdb-actor-name"},e.actor.name),r.a.createElement("span",{className:"rmdb-actor-character"},e.actor.character))}),J=(a(53),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,movie:null,actors:null,directors:[]},a.fetchData=function(){var e=Object(R.a)(_.a.mark(function e(t){var n,r,c,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:if(n=e.sent,console.log(n),!n.status_code){e.next=11;break}a.setState({loading:!1}),e.next=20;break;case 11:return a.setState({movie:n}),r="".concat(l,"movie/").concat(a.props.match.params.movieId,"/credits?api_key=").concat(m),e.next=15,fetch(r);case 15:return e.next=17,e.sent.json();case 17:c=e.sent,o=c.crew.filter(function(e){return"Director"===e.job}),a.setState({directors:o,actors:c.cast,loading:!1},function(){sessionStorage.setItem("".concat(a.props.match.params.movieId),JSON.stringify(a.state))});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error("There was an error: ",e.t0);case 25:case"end":return e.stop()}},e,null,[[0,22]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(E.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){if(sessionStorage.getItem(this.props.match.params.movieId)){var e=JSON.parse(sessionStorage.getItem(this.props.match.params.movieId));this.setState(Object(M.a)({},e))}else{this.setState({loading:!0});var t="".concat(l,"movie/").concat(this.props.match.params.movieId,"?api_key=").concat(m,"&language=en-US");this.fetchData(t)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-movie"},this.state.movie&&!this.state.loading?r.a.createElement("div",null,r.a.createElement(C,{movie:this.props.location.movieName}),r.a.createElement(L,{movie:this.state.movie,directors:this.state.directors}),r.a.createElement(W,{time:this.state.movie.runtime,budget:this.state.movie.budget,revenue:this.state.movie.revenue})):null,this.state.actors?r.a.createElement("div",{className:"rmdb-movie-grid"},r.a.createElement(y,{header:"Actors"},this.state.actors.map(function(e,t){return r.a.createElement(B,{key:t,actor:e})}))):null,this.state.actors||this.state.loading?null:r.a.createElement("h1",null,"No Movie Found!"),this.state.loading?r.a.createElement(x,null):null)}}]),t}(r.a.Component)),z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:A,exact:!0}),r.a.createElement(i.a,{path:"/:movieId",component:J,exact:!0}),r.a.createElement(i.a,{component:P})))},F=(a(54),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(O.a,{basename:"/"},r.a.createElement(z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ReactMovie",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ReactMovie","/service-worker.js");F?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):H(t,e)})}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.078c1846.chunk.js.map